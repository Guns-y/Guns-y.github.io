<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>小D课堂SpringCloud笔记 | Hexo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="SpringCloud">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.4.3">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">John Doe</h5>
          <a href="mailto:1047629166@qq.com" title="1047629166@qq.com" class="mail">
            
              <span>1</span>
            
              <span>0</span>
            
              <span>4</span>
            
              <span>7</span>
            
              <span>6</span>
            
              <span>2</span>
            
              <span>9</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/codefine" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="">
              <a href="/custom"  >
                <i class="icon icon-lg icon-plus-square"></i>
                CUSTOM
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>小D课堂SpringCloud笔记</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">小D课堂SpringCloud笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-11-10T08:56:31.520Z" itemprop="datePublished" class="page-time">
  2018-11-10
</time>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-SpringCloud/小D课堂springcloud"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">小D课堂SpringCloud笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-11-10 16:56:31" datetime="2018-11-10T08:56:31.520Z"  itemprop="datePublished">2018-11-10</time>

            


            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>##SpringCloud课程笔记 </p>
<p>第一章 课程介绍和学习路线 </p>
<h3 id="1、微服务架构SpringCloud课程介绍"><a href="#1、微服务架构SpringCloud课程介绍" class="headerlink" title="1、微服务架构SpringCloud课程介绍"></a>1、微服务架构SpringCloud课程介绍</h3><p>​    简介：课程介绍和课程大纲讲解，讲课风格和重点内容理解技</p>
<h3 id="2、技术选型和学后水平"><a href="#2、技术选型和学后水平" class="headerlink" title="2、技术选型和学后水平"></a>2、技术选型和学后水平</h3><p>​    简介：课程所需基础和技术选型讲解，学完课程可以到达怎样的程度，<br>​<br>​    1、IDEA JDK8 Maven SpringBoot基础 Linux<br>​<br>​    2、理解掌握并开发SpringCloud里面主流架构和组件的基础使用，还有部分源码原理的理解<br>​<br>​    3、掌握学习的技巧和解决问题的思路</p>
<p>第二章 架构演进和分布式系统基础知识</p>
<h3 id="1、传统架构演进到分布式架构"><a href="#1、传统架构演进到分布式架构" class="headerlink" title="1、传统架构演进到分布式架构"></a>1、传统架构演进到分布式架构</h3><p>​    简介：讲解单机应用和分布式应用架构演进基础知识 (画图)</p>
<pre><code>    高可用 LVS+keepalive 


1、单体应用：
    开发速度慢
    启动时间长
    依赖庞大
    等等


2、微服务
    易开发、理解和维护
    独立的部署和启动
    等


    不足：
        分布式系统-》分布式事务问题
        需要管理多个服务-》服务治理</code></pre><figure class="image-box">
                <a rel=小D课堂SpringCloud笔记 href="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-022105.jpg" title="image-20190316111233001" data-fancybox="images"><img src="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-022105.jpg" alt="image-20190316111233001" title class></a>
                <p>image-20190316111233001</p>
            </figure>





<h3 id="2、微服务核心基础讲解"><a href="#2、微服务核心基础讲解" class="headerlink" title="2、微服务核心基础讲解"></a>2、微服务核心基础讲解</h3><p>​    简介：讲解微服务核心知识 ：网关、服务发现注册、配置中心、链路追踪、负载均衡器、熔断<br>​        1、网关：路由转发 + 过滤器<br>​                /api/v1/pruduct/      商品服务<br>​                /api/v1/order/        订单服务<br>​                /api/v1/user/         用户服务</p>
<pre><code>2、服务注册发现：调用和被调用方的信息维护

3、配置中心：管理配置，动态更新 application.properties

4、链路追踪：分析调用链路耗时
    例子：下单-》查询商品服务获取商品价格-》查询用户信息-》保存数据库

5、负载均衡器：分发负载

6、熔断：保护自己和被调用方</code></pre><h3 id="3、常见的微服务框架"><a href="#3、常见的微服务框架" class="headerlink" title="3、常见的微服务框架"></a>3、常见的微服务框架</h3><p>​    简介:讲解常用的微服务框架</p>
<figure class="image-box">
                <a rel=小D课堂SpringCloud笔记 href="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-022106.jpg" title="image-20190316113743778" data-fancybox="images"><img src="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-022106.jpg" alt="image-20190316113743778" title class></a>
                <p>image-20190316113743778</p>
            </figure>

<pre><code>consumer: 调用方  消费者 客户端 client 
provider: 被调用方 服务者 服务端 service</code></pre><p>​<br>        一个接口一般都会充当两个角色（不是同时充当）</p>
<pre><code>1、dubbo: zookeeper + dubbo + springmvc/springboot
    官方地址：http://dubbo.apache.org/#!/?lang=zh-cn
    配套
        通信方式：rpc
        注册中心：zookeper/redis
        配置中心：diamond

2、springcloud: 全家桶+轻松嵌入第三方组件(Netflix 奈飞)
    官网：http://projects.spring.io/spring-cloud/
    配套
        通信方式：http restful
        注册中心：eruka/consul
        配置中心：config
        断路器：hystrix
        网关：zuul
        分布式追踪系统：sleuth+zipkin

学习资料：https://blog.csdn.net/zhangweiwei2020/article/details/78646252</code></pre><h3 id="4、微服务下电商项目基础模块设计"><a href="#4、微服务下电商项目基础模块设计" class="headerlink" title="4、微服务下电商项目基础模块设计"></a>4、微服务下电商项目基础模块设计</h3><p>​    简介：微服务下电商项目基础模块设计 分离几个模块，课程围绕这个基础项目进行学习<br>​        小而精的方式学习微服务</p>
<pre><code>1、用户服务
    1）用户信息接口
    2）登录接口

2、商品服务
    1）商品列表
    2）商品详情

3、订单服务 
    1）我的订单
    2）下单接口</code></pre><h1 id="第三章-SpringCloud核心组件注册中心"><a href="#第三章-SpringCloud核心组件注册中心" class="headerlink" title="第三章 SpringCloud核心组件注册中心"></a>第三章 SpringCloud核心组件注册中心</h1><h3 id="1、什么是微服务的注册中心"><a href="#1、什么是微服务的注册中心" class="headerlink" title="1、什么是微服务的注册中心"></a>1、什么是微服务的注册中心</h3><p>​    简介：讲解什么是注册中心，常用的注册中心有哪些 (画图)<br>​<br>​        理解注册中心：服务管理,核心是有个服务注册表，心跳机制动态维护<br>​<br>​        服务提供者provider: 启动的时候向注册中心上报自己的网络信息<br>​<br>​        服务消费者consumer: 启动的时候向注册中心上报自己的网络信息，拉取provider的相关网络信息</p>
<pre><code>为什么要用：
    微服务应用和机器越来越多，调用方需要知道接口的网络地址，如果靠配置文件的方式去控制网络地址，对于动态新增机器，维护带来很大问题

主流的注册中心：
    zookeeper、Eureka、consul、etcd 等</code></pre><p>​        </p>
<h3 id="2、分布式应用知识CAP理论知识"><a href="#2、分布式应用知识CAP理论知识" class="headerlink" title="2、分布式应用知识CAP理论知识"></a>2、分布式应用知识CAP理论知识</h3><p>​    简介：讲解分布式核心知识CAP理论</p>
<pre><code>CAP定理：
    指的是在一个分布式系统中，Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），三者不可同时获得。




一致性（C）：在分布式系统中的所有数据备份，在同一时刻是否同样的值。（所有节点在同一时间的数据完全一致，越多节点，数据同步越耗时）</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可用性（A）：负载过大后，集群整体是否还能响应客户端的读写请求。（服务一直可用，而且是正常响应时间）</span><br></pre></td></tr></table></figure>

<pre><code>分区容错性（P）：分区容忍性，就是高可用性，一个节点崩了，并不影响其它的节点（100个节点，挂了几个，不影响服务，越多机器越好）


CAP理论就是说在分布式存储系统中，最多只能实现上面的两点。而由于当前的网络硬件肯定会出现延迟丢包等问题，所以分区容忍性是我们必须需要实现的。所以我们只能在一致性和可用性之间进行权衡</code></pre><p>​        </p>
<p>###3、分布式系统CAP原理常见面试题和注册中心选择<br>​        简介:讲解CAP原则在面试中回答和注册中心选择</p>
<pre><code>C A 满足的情况下，P不能满足的原因：
    数据同步(C)需要时间，也要正常的时间内响应(A)，那么机器数量就要少，所以P就不满足

CP 满足的情况下，A不能满足的原因：
    数据同步(C)需要时间, 机器数量也多(P)，但是同步数据需要时间，所以不能再正常时间内响应，所以A就不满足

AP 满足的情况下，C不能满足的原因：
    机器数量也多(P)，正常的时间内响应(A)，那么数据就不能及时同步到其他节点，所以C不满足

注册中心选择：
    Zookeeper：CP设计，保证了一致性，集群搭建的时候，某个节点失效，则会进行选举行的leader，或者半数以上节点不可用，则无法提供服务，因此可用性没法满足

    Eureka：AP原则，无主从节点，一个节点挂了，自动切换其他节点可以使用，去中心化



结论：分布式系统中P,肯定要满足，所以只能在CA中二选一
    没有最好的选择，最好的选择是根据业务场景来进行架构设计

    如果要求一致性，则选择zookeeper，如金融行业

    如果要去可用性，则Eureka，如电商系统</code></pre><h3 id="4、SpringCloud微服务核心组件Eureka介绍和闭源后影响"><a href="#4、SpringCloud微服务核心组件Eureka介绍和闭源后影响" class="headerlink" title="4、SpringCloud微服务核心组件Eureka介绍和闭源后影响"></a>4、SpringCloud微服务核心组件Eureka介绍和闭源后影响</h3><p>​    简介：<br>​        SpringCloud体系介绍<br>​            官方地址：<a href="http://projects.spring.io/spring-cloud/" target="_blank" rel="noopener">http://projects.spring.io/spring-cloud/</a></p>
<pre><code>    Eureka的基础知识--&gt;画图讲解交互流程，服务提供者&lt;--&gt;服务消费者 ;

    Eureka 2.x闭源后选择

参考：https://www.jianshu.com/p/d32ae141f680
     https://blog.csdn.net/zjcjava/article/details/78608892</code></pre><p><a rel=小D课堂SpringCloud笔记 href="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-22107.jpg" title="image-20190316130552646" data-fancybox="images"><img src="http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-22107.jpg" alt="image-20190316130552646"></a>–</p>
<h3 id="5、服务注册和发现Eureka-Server搭建实战"><a href="#5、服务注册和发现Eureka-Server搭建实战" class="headerlink" title="5、服务注册和发现Eureka Server搭建实战"></a>5、服务注册和发现Eureka Server搭建实战</h3><p>​    简介：使用IDEA搭建Eureka服务中心Server端并启动，项目基本骨架介绍<br>​<br>​    官方文档：<a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server</a><br>​<br>​    第一步：创建项目<br>​    第二步: 添加注解 @EnableEurekaServer<br>​    第三步：增加配置application.yml<br>​            server:<br>​              port: 8761<br>​<br>​            eureka:<br>​              instance:<br>​                hostname: localhost<br>​              client:<br>​              #声明自己是个服务端<br>​                registerWithEureka: false<br>​                fetchRegistry: false<br>​                serviceUrl:<br>​                  defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/<br>​    </p>
<pre><code>第四步：访问注册中心页面

maven地址: https://www.cnblogs.com/sword-successful/p/6408281.html</code></pre><p>6、服务注册和发现之Eureka Client搭建商品服务实战<br>​    简介：搭建用商品服务，并将服务注册到注册中心</p>
<pre><code>1、创建一个SpirngBoot应用，增加服务注册和发现依赖
2、模拟商品信息，存储在内存中

3、开发商品列表接口，商品详情接口

4、配置文件加入注册中心地址
    使用eureka客户端 官方文档：http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter</code></pre><p>7、Eureka服务注册中心配置控制台问题处理<br>​    简介：讲解服务注册中心管理后台，（后续还会细讲）</p>
<pre><code>问题：eureka管理后台出现一串红色字体：是警告，说明有服务上线率低

EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&apos;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.

关闭检查方法：eureka服务端配置文件加入
server:
    enable-self-preservation: false
注意：自我保护模式禁止关闭，默认是开启状态true</code></pre><p>​<br>​    问题二：为什么只加一个注册中心地址，就可以注册<br>​    By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example:</p>
<p>第四章 服务消费者ribbon和feign实战和注册中心高可用</p>
<p>1、常用的服务间调用方式讲解<br>​    简介：讲解常用的服务间的调用方式</p>
<pre><code>RPC:
    远程过程调用，像调用本地服务(方法)一样调用服务器的服务
    支持同步、异步调用
    客户端和服务器之间建立TCP连接，可以一次建立一个，也可以多个调用复用一次链接

    PRC数据包小
        protobuf
        thrift
    rpc：编解码，序列化，链接，丢包，协议


Rest(Http):
    http请求，支持多种协议和功能
    开发方便成本低

    http数据包大

    java开发：HttpClient，URLConnection</code></pre><p>2、微服务调用方式之ribbon实战 订单调用商品服务<br>​    简介：实战电商项目 订单服务 调用商品服务获取商品信息<br>​        1、创建order_service项目<br>​        2、开发伪下单接口<br>​        3、使用ribbon. (类似httpClient,URLConnection) </p>
<pre><code>    启动类增加注解
      @Bean
      @LoadBalanced
      public RestTemplate restTemplate() {
           return new RestTemplate();
      }
4、根据名称进行调用商品，获取商品详情</code></pre><p>3、高级篇幅之Ribbon负载均衡源码分析实战<br>​    简介: 讲解ribbon服务间调用负载均衡源码分析<br>​        1、完善下单接口<br>​        2、分析@LoadBalanced<br>​            1）首先从注册中心获取provider的列表<br>​            2）通过一定的策略选择其中一个节点<br>            3）再返回给restTemplate调用</p>
<h1 id><a href="#" class="headerlink" title="============================================="></a>=============================================</h1><p>4、高级篇幅之服务间调用之负载均衡策略调整实战<br>​    简介：实战调整默认负载均衡策略实战</p>
<pre><code>自定义负载均衡策略：http://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties

在配置文件yml里面，自定义负载均衡策略
    #自定义负载均衡策略
    product-service:
      ribbon:
        NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule

策略选择：
    1、如果每个机器配置一样，则建议不修改策略 (推荐)
    2、如果部分机器配置强，则可以改为 WeightedResponseTimeRule</code></pre><p>5、微服务调用方式之feign 实战 订单调用商品服务<br>​    简介：改造电商项目 订单服务 调用商品服务获取商品信息<br>​        Feign： 伪RPC客户端(本质还是用http)<br>​        官方文档: <a href="https://cloud.spring.io/spring-cloud-openfeign/" target="_blank" rel="noopener">https://cloud.spring.io/spring-cloud-openfeign/</a></p>
<pre><code>1、使用feign步骤讲解（新旧版本依赖名称不一样）
    加入依赖
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;
        &lt;/dependency&gt;
    启动类增加@EnableFeignClients
    增加一个接口 并@FeignClient(name=&quot;product-service&quot;)

2、编码实战


3、注意点：
    1、路径
    2、Http方法必须对应
    3、使用requestBody，应该使用@PostMapping
    4、多个参数的时候，通过@RequestParam（&quot;id&quot;) int id)方式调用</code></pre><p>6、Feign核心源码解读和服务调用方式ribbon和Feign选择<br>​    简介: 讲解Feign核心源码解读和 服务间的调用方式ribbon、feign选择<br>​<br>​        1、ribbon和feign两个的区别和选择<br>​            选择feign<br>​                默认集成了ribbon<br>​                写起来更加思路清晰和方便<br>​                采用注解方式进行配置，配置熔断等方式方便<br>​<br>​        2、超时配置<br>​            默认optons readtimeout是60，但是由于hystrix默认是1秒超时<br>​<br>            #修改调用超时时间<br>            feign:<br>              client:<br>                config:<br>                  default:<br>                    connectTimeout: 2000<br>                    readTimeout: 2000<br><br>            模拟接口响应慢，线程睡眠新的方式<br>              try {<br>                    TimeUnit.SECONDS.sleep(1);<br>                } catch (InterruptedException e) {<br>                    e.printStackTrace();<br>                }</p>
<p>第五章 互联网架构服务降级熔断 Hystrix 实战</p>
<p>1、分布式核心知识之熔断、降级讲解<br>​    简介：系统负载过高，突发流量或者网络等各种异常情况介绍，常用的解决方案</p>
<pre><code>1、熔断：
    保险丝，熔断服务，为了防止整个系统故障，包含子和下游服务

    下单服务 -》商品服务
            -》用户服务 （出现异常-》熔断）

2、降级：
    抛弃一些非核心的接口和数据

    旅行箱的例子：只带核心的物品，抛弃非核心的，等有条件的时候再去携带这些物品</code></pre><p>​<br>​    3、熔断和降级互相交集<br>​        相同点：<br>​            1）从可用性和可靠性触发，为了防止系统崩溃<br>​            2）最终让用户体验到的是某些功能暂时不能用<br>​<br>​        不同点<br>​            1）服务熔断一般是下游服务故障导致的，而服务降级一般是从整体系统负荷考虑，由调用方控制</p>
<p>2、Netflix开源组件断路器Hystrix介绍<br>​    简介：介绍Hystrix基础知识和使用场景<br>​<br>​    文档地址：<br>​        <a href="https://github.com/Netflix/Hystrix" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix</a><br>​        <a href="https://github.com/Netflix/Hystrix/wiki" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix/wiki</a><br>​<br>​    1、什么是Hystrix？<br>​        1）hystrix对应的中文名字是“豪猪”<br>​<br>        2）hystrix    英[hɪst’rɪks] 美[hɪst’rɪks]</p>
<p>​<br>​    2、为什么要用？<br>​        在一个分布式系统里，一个服务依赖多个服务，可能存在某个服务调用失败，<br>​        比如超时、异常等，如何能够保证在一个依赖出问题的情况下，不会导致整体服务失败，<br>​        通过Hystrix就可以解决<br>​<br>​        <a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients</a><br>​<br>​    3、提供了熔断、隔离、Fallback、cache、监控等功能</p>
<pre><code>4、熔断后怎么处理？
    出现错误之后可以 fallback 错误的处理信息

    兜底数据</code></pre><p>3、Feign结合Hystrix断路器开发实战《上》<br>​    简介：讲解SpringCloud整合断路器的使用，用户服务异常情况</p>
<pre><code>1、加入依赖

注意：网上新旧版本问题，所以要以官网为主，不然部分注解会丢失
最新版本 2.0

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;
    &lt;/dependency&gt;


2、增加注解
    启动类里面增加注解
    @EnableCircuitBreaker

    注解越来越多-》 SpringCloudApplication注解

3、API接口编码实战
  熔断-》降级

    1）最外层api使用，好比异常处理（网络异常，参数或者内部调用问题）
        api方法上增加 @HystrixCommand(fallbackMethod = &quot;saveOrderFail&quot;)

        编写fallback方法实现，方法签名一定要和api方法签名一致（注意点！！！）</code></pre><p>​        </p>
<pre><code>补充： 修改maven仓库地址
pom.xml中修改

&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus-aliyun&lt;/id&gt;
        &lt;name&gt;Nexus aliyun&lt;/name&gt;
        &lt;layout&gt;default&lt;/layout&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/snapshots&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;</code></pre><p>4、Feign结合Hystrix断路器开发实战《下》<br>​    简介：讲解SpringCloud整合断路器的使用，用户服务异常情况<br>​    1、feign结合Hystrix<br>​<br>​        1）开启feign支持hystrix  (注意，一定要开启，旧版本默认支持，新版本默认关闭)<br>​            feign:<br>​              hystrix:<br>​                enabled: true<br>​<br>​        2）FeignClient(name=”xxx”, fallback=xxx.class ), class需要继承当前FeignClient的类</p>
<p>5、熔断降级服务异常报警通知实战<br>​    简介：完善服务熔断处理，报警机制完善</p>
<pre><code>1、加入redis依赖
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
    &lt;/dependency&gt;
2、配置redis链接信息
  redis:
    database: 0
    host: 127.0.0.1
    port: 6379
    timeout: 2000

3、使用

    //监控报警
    String saveOrderKye = &quot;save-order&quot;;
    String sendValue = redisTemplate.opsForValue().get(saveOrderKye);
    final String ip = request.getRemoteAddr();
    new Thread( ()-&gt;{
        if (StringUtils.isBlank(sendValue)) {
            System.out.println(&quot;紧急短信，用户下单失败，请离开查找原因,ip地址是=&quot;+ip);
            //发送一个http请求，调用短信服务 TODO
            redisTemplate.opsForValue().set(saveOrderKye, &quot;save-order-fail&quot;, 20, TimeUnit.SECONDS);
        }else{
            System.out.println(&quot;已经发送过短信，20秒内不重复发送&quot;);
        }
    }).start();</code></pre><p>6、高级篇幅之深入源码剖析Hystrix降级策略和调整<br>​    简介：源码分析Hystrix降级策略和调整</p>
<pre><code>1、查看默认讲解策略 HystrixCommandProperties
    1）execution.isolation.strategy   隔离策略
        THREAD 线程池隔离 （默认）
        SEMAPHORE 信号量
            信号量适用于接口并发量高的情况，如每秒数千次调用的情况，导致的线程开销过高，通常只适用于非网络调用，执行速度快

    2）execution.isolation.thread.timeoutInMilliseconds  超时时间
        默认 1000毫秒

    3）execution.timeout.enabled 是否开启超时限制 （一定不要禁用）


    4）execution.isolation.semaphore.maxConcurrentRequests 隔离策略为 信号量的时候，如果达到最大并发数时，后续请求会被拒绝，默认是10


官方文档:
    https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy

2、调整策略
    超时时间调整

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 4000</code></pre><p>7、断路器Dashboard监控仪表盘实战<br>​    简介：讲解断路器Dashboard基础使用和查看<br>​    1、加入依赖<br>​         <dependency><br>​            <groupid>org.springframework.cloud</groupid><br>​            <artifactid>spring-cloud-starter-netflix-hystrix-dashboard</artifactid><br>​        </dependency></p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;

2、启动类增加注解
    @EnableHystrixDashboard</code></pre><p>​<br>​    3、配置文件增加endpoint<br>management:<br>  endpoints:<br>​    web:<br>​      exposure:<br>​        include: “*”</p>
<pre><code>4、访问入口
    http://localhost:8781/hystrix

    Hystrix Dashboard输入： http://localhost:8781/actuator/hystrix.stream </code></pre><p>​<br>​    参考资料<br>​        默认开启监控配置<br>​        <a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator</a><br>​<br>​        配置文件类：<br>​            spring-configuration-metadata.json</p>
<p>8、断路器监控仪表参数讲解和模拟熔断<br>​    简介：讲解 断路器监控仪表盘参数和模拟熔断</p>
<pre><code>1、sse  server-send-event推送到前端

资料：https://github.com/Netflix/Hystrix/wiki/Dashboard</code></pre><p>第六章 微服务网关zuul开发实战 </p>
<p>1、微服务网关介绍和使用场景<br>​    简介：讲解网关的作用和使用场景 (画图)<br>​<br>​    1）什么是网关<br>​        API Gateway，是系统的唯一对外的入口，介于客户端和服务器端之间的中间层，处理非业务功能 提供路由请求、鉴权、监控、缓存、限流等功能<br>​<br>​            统一接入<br>​                智能路由<br>​                AB测试、灰度测试<br>​                负载均衡、容灾处理<br>​                日志埋点（类似Nignx日志）<br>​<br>            流量监控<br>                限流处理<br>                服务降级</p>
<pre><code>        安全防护
            鉴权处理
            监控
            机器网络隔离


2）主流的网关
    zuul：是Netflix开源的微服务网关，和Eureka,Ribbon,Hystrix等组件配合使用，Zuul 2.0比1.0的性能提高很多

    kong: 由Mashape公司开源的，基于Nginx的API gateway

    nginx+lua：是一个高性能的HTTP和反向代理服务器,lua是脚本语言，让Nginx执行Lua脚本，并且高并发、非阻塞的处理各种请求</code></pre><p>2、SpringCloud的网关组件zuul基本使用<br>​    简介：讲解zuul网关基本使用</p>
<pre><code>1、加入依赖


2、启动类加入注解 @EnableZuulProxy
    默认集成断路器  @EnableCircuitBreaker

    默认访问规则  
        http://gateway:port/service-id/**

            例子：默认 /order-service/api/v1/order/save?user_id=2&amp;product_id=1
                 自定义 /xdclass_order/api/v1/order/save?user_id=2&amp;product_id=1

    自定义路由转发：
        zuul:
         routes:
             order-service: /apigateway/**


    环境隔离配置：
        需求 ：不想让默认的服务对外暴露接口
            /order-service/api/v1/order/save

        配置：
        zuul: 
            ignored-patterns:
                - /*-service/api/v1/order/save</code></pre><p>3、高级篇幅之Zuul常用问题分析和网关过滤器原理分析</p>
<pre><code>简介：讲解Zuul网关原理和过滤器生命周期，

1、路由名称定义问题
    路由映射重复覆盖问题

2、Http请求头过滤问题

3、过滤器执行顺序问题 ，过滤器的order值越小，越先执行


4、共享RequestContext，上下文对象</code></pre><p>4、自定义Zuul过滤器实现登录鉴权实战<br>​    简介：自定义Zuul过滤器实现登录鉴权实战</p>
<pre><code>1、新建一个filter包

2、新建一个类，实现ZuulFilter，重写里面的方法

3、在类顶部加注解，@Component,让Spring扫描</code></pre><p>5、高级篇幅之高并发情况下接口限流特技<br>​    简介：谷歌guava框架介绍，网关限流使用</p>
<pre><code>1、nginx层限流

2、网关层限流</code></pre><p>6、Zuul微服务网关集群搭建<br>​    简介：微服务网关Zull集群搭建</p>
<pre><code>1、nginx+lvs+keepalive 
https://www.cnblogs.com/liuyisai/p/5990645.html</code></pre><p>第七章 分布式链路追踪系统Sleuth和ZipKin实战<br>​    </p>
<pre><code>1、微服务下的链路追踪讲解和重要性
    简介：讲解什么是分布式链路追踪系统，及使用好处




2、SpringCloud的链路追踪组件Sleuth实战
    简介：讲解分布式链路追踪组件Sleuth实战

    1、官方文档
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project

    2、什么是Sleuth
        一个组件，专门用于记录链路数据的开源组件

        [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false]

        1、第一个值，spring.application.name的值

        2、第二个值，96f95a0dd81fe3ab ，sleuth生成的一个ID，叫Trace ID，用来标识一条请求链路，一条请求链路中包含一个Trace ID，多个Span ID

        3、第三个值，852ef4cfcdecabf3、spanid 基本的工作单元，获取元数据，如发送一个http

        4、第四个值：false，是否要将该信息输出到zipkin服务中来收集和展示。

    3、添加依赖
        &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
         &lt;/dependency&gt;






3、SpringCloud的链路追踪组件Sleuth常见问题说明
    简介：讲解分布式链路追踪组件Sleuth常见问题说明</code></pre><p>​      </p>
<pre><code>4、可视化链路追踪系统Zipkin部署
    简介：讲解Zipkin的介绍和部署
    1、什么是zipkin
        官网：https://zipkin.io/
        大规模分布式系统的APM工具（Application Performance Management）,基于Google Dapper的基础实现，和sleuth结合可以提供可视化web界面分析调用链路耗时情况            

    2、同类产品
        鹰眼（EagleEye）
        CAT
        twitter开源zipkin，结合sleuth
        Pinpoint，运用JavaAgent字节码增强技术
        StackDriver Trace (Google) 

    3、开始使用
        https://github.com/openzipkin/zipkin
        https://zipkin.io/pages/quickstart.html

        zipkin组成：Collector、Storage、Restful API、Web UI组成

    4、知识拓展：OpenTracing
    OpenTracing 已进入 CNCF，正在为全球的分布式追踪，提供统一的概念和数据标准。 
    通过提供平台无关、厂商无关的 API，使得开发人员能够方便的添加（或更换）追踪系统的实现。


    推荐阅读：
        http://blog.daocloud.io/cncf-3/
        https://www.zhihu.com/question/27994350
        https://yq.aliyun.com/articles/514488?utm_content=m_43347







5、高级篇幅之链路追踪组件Zipkin+Sleuth实战
    简介：使用Zipkin+Sleuth业务分析调用链路分析实战

    1、文档
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http

      sleuth收集跟踪信息通过http请求发送给zipkin server，zipkinserver进行跟踪信息的存储以及提供Rest API即可，Zipkin UI调用其API接口进行数据展示

      默认存储是内存，可也用mysql、或者elasticsearch等存储

    2、加入依赖
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;
    &lt;/dependency&gt;

    里面包含 spring-cloud-starter-sleuth、spring-cloud-sleuth-zipkin

    3、文档说明：http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2

    4、配置zipkin.base-url

    5、配置采样百分闭spring.sleuth.sampler


    推荐资料：
        https://blog.csdn.net/jrn1012/article/details/77837710</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂"><a href="#公众号搜索：小D课堂" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><p>​<br>第八章 微服务核心知识分布式配置中心Config实战<br>​<br>​    1、微服务下的分布式配置中心<br>​        简介：讲解什么是配置中心及使用前后的好处 (画图)<br>​        什么是配置中心：<br>​            一句话：统一管理配置, 快速切换各个环境的配置<br>​<br>​        相关产品：<br>​            百度的disconf<br>​                地址:<a href="https://github.com/knightliao/disconf" target="_blank" rel="noopener">https://github.com/knightliao/disconf</a><br>​<br>​            阿里的diamand<br>​                地址：<a href="https://github.com/takeseem/diamond" target="_blank" rel="noopener">https://github.com/takeseem/diamond</a><br>​<br>​            springcloud的configs-server:<br>​                地址：<a href="http://cloud.spring.io/spring-cloud-config/" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-config/</a></p>
<pre><code>    推荐干货文章：http://jm.taobao.org/2016/09/28/an-article-about-config-center/





2、SpringCloud的配置中心组件config-server实战
    简介：讲解SpringCloud配置中心config-server实战
    1、新建项目，创建config-server
    2、启动类增加注解
        @EnableConfigServer












3、使用git服务器结合Config搭建分布式配置中心
    简介：讲解使用git服务器结合Config搭建分布式配置中心

    1、默认使用git存储配置中心
        使用git服务器，可以自己搭建gitlab服务器
        或者使用github、开源中国git、阿里云git

        794666918@qq.com
        xdclass.net123

        https://gitee.com/waitforxy/config_cloud.git

    2、配置文件添加配置
        spring:
          application:
            name: config-server
        #git配置
          cloud:
            config:
              server:
                git:
                  uri: https://gitee.com/waitforxy/config_cloud
                  username: 794666918@qq.com
                  password: xdclass.net123
                  #超时时间
                  timeout: 5
                    #分支
                    default-label: master


    3、访问方式（一定要注意语法，如果有问题，会出错）
        多种访问路径，可以通过启动日志去查看
        例子 http://localhost:9100/product-service.yml

        /{name}-{profiles}.properties
        /{name}-{profiles}.yml
        /{name}-{profiles}.json
        /{label}/{name}-{profiles}.yml

        name 服务器名称
        profile 环境名称，开发、测试、生产
        lable 仓库分支、默认master分支</code></pre><p>4、分布式配置中心客户端使用实战<br>​    简介：微服务里面客户端接入配置中心实战<br>​        官方文档：<a href="http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client</a><br>​<br>​        1、加入依赖<br>​             <dependency><br>​                <groupid>org.springframework.cloud</groupid><br>​                <artifactid>spring-cloud-config-client</artifactid><br>​            </dependency><br>​<br>​         2、修改对应服务的配置文件,把application.yml 改为 bootstrap.yml<br>​            #指定注册中心地址<br>​            eureka:<br>​              client:<br>​                serviceUrl:<br>​                  defaultZone: <a href="http://localhost:8761/eureka/" target="_blank" rel="noopener">http://localhost:8761/eureka/</a><br>​<br>            #服务的名称<br>            spring:<br>              application:<br>                name: product-service<br>              #指定从哪个配置中心读取<br>              cloud:<br>                config:<br>                  discovery:<br>                    service-id: CONFIG-SERVER<br>                    enabled: true<br>                  profile: test<br>                  #建议用lable去区分环境，默认是lable是master分支<br>                  #label: test<br><br>        注意点：<br>            1.配置文件要用bootstrap.yml<br>            2.默认读取文件名是 服务名称</p>
<p>第九章 微服务消息总线Bus结合消息队列RabbitMQ实战</p>
<pre><code>1、消息总线Bus介绍和使用场景
    简介：讲解消息总线Bus介绍和使用场景
    1、什么是消息
        一个事件，需要广播或者单独传递给某个接口

    2、为什么使用这个
        配置更新了，但是其他系统不知道是否更新









2、消息队列和RabbitMQ基础介绍
    简介：消息队列和RabbitMQ基础介绍

        1、消息队列介绍
            参考：https://www.cnblogs.com/linjiqin/p/5720865.html

        2、同类产品
            ActiveMQ
            RocketMQ
            Kafka
            等

        3、SpringCloud默认推荐使用RabbitMQ


        4、RabbitMQ介绍    
            官方文档：http://www.rabbitmq.com/getstarted.html
            中文文档：http://rabbitmq.mr-ping.com/





3、实战系列使用Docker搭建RabbitMQ3.7
    简介：使用Docker安装RabbitMQ

    1、如果对Docker没基础，课程后续有讲解Docker，可以先跳转过去学习Docker
    2、安装步骤
        1)拉取镜像：docker pull rabbitmq:management
        2)查看当前镜像列表：docker images
        3)删除指定镜像：docker rmi  IMAGE_ID  (如果需要强制删除加 -f)

        4)创建容器
        docker run -d --name=&quot;myrabbitmq&quot; -p 5671:5671 -p 15672:15672 rabbitmq:management

        参数讲解: 
            run: 创建一个新的容器并运行一个命令
             -d: 后台运行容器，并返回容器ID
             -p: 端口映射，格式为：主机(宿主)端口:容器端口
             --name=&quot;rabbitmq&quot;: 为容器指定一个名称


    3、RabbitMQ默认创建了一个 guest 用户，密码也是 guest, 如果访问不了记得查看防火墙，端口或者云服务器的安全组
      管理后台：http://127.0.0.1:15672


其他安装方式：
Linux安装：https://blog.csdn.net/qq_34021712/article/details/72567786
windows安装：http://www.rabbitmq.com/install-windows.html

https://blog.csdn.net/liyuejin/article/details/78410586





4、高级篇幅消息总线整合配置中心架构流程图
    简介：讲解消息总线Bus结合config组件搭建配置中心项目架构图和操作流程

        启动
        rabbitmq： docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management
        rabbitmq默认是5672,所以改为5672端口

        1、config-client加入依赖

            &lt;!--配置中心结合消息队列--&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
            &lt;/dependency&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;
            &lt;/dependency&gt;</code></pre><p>​<br>​            官方文档：<a href="http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint</a><br>​            文档里面 暴露端点 management.endpoints.web.exposure.include=bus-refresh<br>​<br>​            2、在配置文件中增加关于RabbitMQ的连接(如果是本机，则可以直接启动，采用默认连接配置)<br>​                spring:<br>​                  rabbitmq:<br>​                    host: localhost<br>​                    port: 5672<br>​                    username: guest<br>​                    password: guest<br>​<br>​                #暴露全部的监控信息<br>​                management:<br>​                  endpoints:<br>​                    web:<br>​                      exposure:<br>​                        include: “*”<br>​<br>​            3、需要刷新配置的地方，增加注解<br>​                @RefreshScope<br>​<br>​            4、访问验证 post方式：<br>​                <a href="http://localhost:8773/actuator/bus-refresh" target="_blank" rel="noopener">http://localhost:8773/actuator/bus-refresh</a></p>
<pre><code>        5、动态刷新配置: 在开发和测试环境使用，尽量少在生产环境使用








5、微服务相关项目改造配置中心
简介：把课程项目改造成配置中心讲解

1、git里面新增对应项目的配置文件，都要添加下面的配置
    #服务的名称
    spring:
      rabbitmq:
        host: localhost
        port: 5672
        username: guest
        password: guest

    #暴露全部的监控信息
    management:
      endpoints:
        web:
          exposure:
            include: &quot;*&quot;</code></pre><p>​<br>​    2、项目里面添加maven依赖<br>​<br>​        <!--配置中心客户端--><br>​        <dependency><br>​            <groupid>org.springframework.cloud</groupid><br>​            <artifactid>spring-cloud-config-client</artifactid><br>​        </dependency><br>​<br>​        <!--config server--><br>​<br>​        <dependency><br>​            <groupid>org.springframework.boot</groupid><br>​            <artifactid>spring-boot-starter-actuator</artifactid><br>​        </dependency><br>​<br>​        <dependency><br>​            <groupid>org.springframework.cloud</groupid><br>​            <artifactid>spring-cloud-starter-bus-amqp</artifactid><br>​        </dependency></p>
<pre><code>3、修改application.properties为bootstrap.yml 并拷贝配置文件

        #指定注册中心地址
        eureka:
          client:
            serviceUrl:
              defaultZone: http://localhost:8761/eureka/

        #服务的名称
        spring:
          application:
            name: order-service
          #指定从哪个配置中心读取
          cloud:
            config:
              discovery:
                service-id: CONFIG-SERVER
                enabled: true
              profile: test

4、各个项目启动顺序
    1）注册中心
    2）配置中心
    3）对应的服务：商品服务、订单服务。。。
    4）启动网关</code></pre><p>第十章、SpringCloud课程内容上半部分总结<br>​    </p>
<pre><code>1、微服务核心知识内容回顾

简介：回顾SpringCloud前面10章的基础内容

    1)介绍微服务的基础知识，核心组件，CAP原理

    2）SpringCloud注册中心 Eureka

    3）product-service / order-service

    4) 伪RPC Ribbon / feign 

    5) hystrix熔断

    6) 服务网关介绍，zuul

    7）配置中心config-server</code></pre><p>​    </p>
<pre><code>2、微服务下半部分知识 云服务器和Docker容器
    简介：讲解云服务器和容器知识</code></pre><p>​    </p>
<p>第十一章 阿里云ECS服务器介绍和网络知识讲解</p>
<pre><code>1、云服务器介绍和阿里云服务器ECS服务器选购
    简介：什么是云服务器及目前主要的几个厂商介绍
    1、阿里云、腾讯云、亚马逊云
    阿里云：https://www.aliyun.com/
    腾讯云：https://cloud.tencent.com/
    亚马逊云：https://aws.amazon.com/</code></pre><p>​<br>​    2、阿里云服务器远程登录和常用工具<br>​        简介：讲解阿里云服务器登录使用和常见终端工具<br>​        1、windows工具   putty，xshell, security<br>​            参考资料：<br>​                <a href="https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html</a><br>​                <a href="https://www.jb51.net/softjc/88235.html" target="_blank" rel="noopener">https://www.jb51.net/softjc/88235.html</a><br>​<br>​        2、苹果系统MAC： 通过终端登录<br>​            ssh root@ip  回车后输入密码<br>​            ssh <a href="mailto:root@120.25.1.38" target="_blank" rel="noopener">root@120.25.1.38</a><br>​<br>​        3、可以尝试自己通过百度进行找文档， 安装mysql jdk  nginx maven git redis elk </p>
<p>3、互联网架构知识之网站部署上线基础准备<br>​    简介：讲解应用部署到可以公网访问需要步骤</p>
<pre><code>1、一个http请求的故事

2、什么是cname和a记录
        A记录和CNAME只可以同时生效一个，A记录优先

3、域名和ip的关系，DNS作用


参考资料：
    https://blog.csdn.net/benbenzhuhwp/article/details/44704319

    https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1</code></pre><p>4、域名购买和配置解析实战<br>​    简介：域名购买和配置解析实战</p>
<pre><code>1、购买域名，备案
    阿里云 备案地址：https://beian.aliyun.com/

2、购买服务器，阿里云，腾讯云，亚马逊云aws

3、配置域名解析到服务器</code></pre><p>​    </p>
<p>​<br>第十二章 微服务必备技能Docker容器基础篇幅<br>​<br>​    1、微服务下的Docker介绍和使用场景<br>​        简介：Docker介绍和使用场景<br>​<br>​        1、什么是Dokcer<br>​            百科:一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口；<br>​<br>​            使用go语言编写，在LCX（linux容器）基础上进行的封装<br>​<br>​            简单来说：<br>​                1）就是可以快速部署启动应用<br>​                2）实现虚拟化，完整资源隔离<br>​                3）一次编写，四处运行（有一定的限制，比如Docker是基于Linux 64bit的，无法在32bit的linux/Windows/unix环境下使用）<br>​<br>​        2、为什么要用<br>​            1、提供一次性的环境，假如需要安装Mysql，则需要安装很多依赖库、版本等，如果使用Docker则通过镜像就可以直接启动运行<br>​<br>            2、快速动态扩容，使用docker部署了一个应用，可以制作成镜像，然后通过Dokcer快速启动</p>
<pre><code>        3、组建微服务架构，可以在一个机器上模拟出多个微服务，启动多个应用

        4、更好的资源隔离和共享

        一句话：开箱即用，快速部署，可移植性强，环境隔离







2、Linux云服务器Centos7安装Docker实战
    简介：讲解阿里云ECS服务安装Docker实战
    Linux Standard Base的缩写，lsb_release命令用来显示LSB和特定版本的相关信息
    命令： lsb_release -a 

    阿里云安装手册：
    https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY

    常见问题：
    https://blog.csdn.net/daluguishou/article/details/52080250






3、Docker仓库、镜像、容器核心知识讲解
    简介：快速掌握Dokcer基础知识，

    1、概念：
        Docker 镜像 - Docker images：
                 容器运行时的只读模板，操作系统+软件运行环境+用户程序

                 class User{
                     private String userName;
                     private int age;
                 }


        Docker 容器 - Docker containers：
                容器包含了某个应用运行所需要的全部环境

                 User user = new User()


        Docker 仓库 - Docker registeries： 
                用来保存镜像，有公有和私有仓库，好比Maven的中央仓库和本地私服
                镜像仓库：    

                （参考）配置国内镜像仓库：https://blog.csdn.net/zzy1078689276/article/details/77371782

        对比面向对象的方式
        Dokcer 里面的镜像 : Java里面的类 Class
        Docker 里面的容器 : Java里面的对象 Object
        通过类创建对象，通过镜像创建容器


4、Docker容器常见命令实战
    简介：讲解Docker在云服务上的实际应用
    1、 常用命令（安装部署好Dokcer后，执行的命令是docker开头）,xxx是镜像名称

        搜索镜像：docker search xxx

        列出当前系统存在的镜像：docker images

        拉取镜像：docker pull xxx
            xxx是具体某个镜像名称(格式 REPOSITORY:TAG)
            REPOSITORY：表示镜像的仓库源,TAG：镜像的标签

        运行一个容器：docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management
            docker run - 运行一个容器
            -d 后台运行
            -p 端口映射
            rabbitmq:management  (格式 REPOSITORY:TAG)，如果不指定tag，默认使用最新的
            --name &quot;xxx&quot;

        列举当前运行的容器：docker ps

        检查容器内部信息：docker inspect 容器名称

        删除镜像：docker rmi IMAGE_NAME
             强制移除镜像不管是否有容器使用该镜像 增加 -f 参数，

        停止某个容器：docker stop 容器名称

        启动某个容器：docker start 容器名称

        移除某个容器： docker rm 容器名称 （容器必须是停止状态）


    文档：
        https://blog.csdn.net/permike/article/details/51879578







5、实战应用之使用Docker部署Nginx服务器
    简介：讲解使用Docker部署Nginx服务器实战
    1、获取镜像 
        docker run (首先会从本地找镜像，如果有则直接启动，没有的话，从镜像仓库拉起，再启动)

        docker search nignx
    2、列举
        docker images
    3、拉取
        docker pull nignx
    3、启动
        docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx
        docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx
        docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx
    4、访问
        如果是阿里云服务，记得配置安全组，腾讯云也需要配置，这个就是一个防火墙







6、公司中Docker镜像仓库使用讲解
    简介：讲解一般公司中镜像仓库在的使用

    1、为啥要用镜像仓库


    2、官方公共镜像仓库和私有镜像仓库
        公共镜像仓库：
                官方：https://hub.docker.com/，基于各个软件开发或者有软件提供商开发的
                非官方：其他组织或者公司开发的镜像，供大家免费试用

        私有镜像仓库：
                用于存放公司内部的镜像，不提供给外部试用； 

                SpringCloud 开发了一个支付系统 -》做成一个镜像 （操作系统+软件运行环境+用户程序）






7、高级篇幅之构建自己的镜像仓库
    简介：使用阿里云搭建自己的镜像仓库

    1、阿里云镜像仓库：https://dev.aliyun.com/search.html

    点击管理控制台-》初次使用会提示开通，然后设置密码
    xdclass.net123


    2、使用阿里云私有镜像仓库
        1)登录： docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

        2) 推送本地镜像：
        docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[镜像版本号]
        例子：
        docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        3)拉取镜像
            线上服务器拉取镜像：
                docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

                docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

                启动容器：
                docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 2f415b0e9a6e</code></pre><p>第十三章 微服务高级篇幅SpringCloud和Docker整合部署<br>​<br>​    第1课 高级篇幅之构建SpringBoot应用docker镜像上集<br>​<br>​    简介:使用Docker的maven插件，构建springboot应用<br>​<br>    官方文档：<a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
<pre><code>1、步骤：maven里面添加配置pom.xml

     &lt;properties&gt;
       &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;finalName&gt;docker-demo&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.3.6&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                    &lt;buildArgs&gt;
                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                    &lt;/buildArgs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    配置讲解
    Spotify 的 docker-maven-plugin 插件是用maven插件方式构建docker镜像的。
    ${project.build.finalName} 产出物名称，缺省为${project.artifactId}-${project.version}</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂-1"><a href="#公众号搜索：小D课堂-1" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><pre><code>第2课 高级篇幅之构建SpringBoot应用docker镜像下集

        简介:打包SpringCloud镜像并上传私有仓库并部署

        1、创建Dockerfile,默认是根目录，（可以修改为src/main/docker/Dockerfile,如果修则需要制定路径）
            什么是Dockerfile : 由一系列命令和参数构成的脚本，这些命令应用于基础镜像, 最终创建一个新的镜像

            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]


            参数讲解：
            FROM &lt;image&gt;:&lt;tag&gt; 需要一个基础镜像，可以是公共的或者是私有的， 后续构建会基于此镜像，如果同一个Dockerfile中建立多个镜像时，可以使用多个FROM指令

            VOLUME  配置一个具有持久化功能的目录，主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录 

            ARG  设置编译镜像时加入的参数， ENV 是设置容器的环境变量
            COPY : 只支持将本地文件复制到容器 ,还有个ADD更强大但复杂点
            ENTRYPOINT 容器启动时执行的命令
            EXPOSE 8080 暴露镜像端口
        2、构建镜像
        mvn install dockerfile:build
        打标签
        docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808
        推送到镜像仓库
        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808

        应用服务器拉取镜像
        docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808


        docker run -d --name xdclass_docker_demo1 -p 8099:8080  a1b9fc71720d

        3、查看启动日志 docker logs -f  containerid

        文档：https://yeasy.gitbooks.io/docker_practice/image/dockerfile/











第3课 实战系列之注册中心打包Docker镜像
    简介：讲解使用Docker打包注册中心，上传私有镜像仓库并部署

    1、新增maven插件
        &lt;properties&gt;
           &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
        &lt;/properties&gt;

        &lt;build&gt;
            &lt;finalName&gt;docker-demo&lt;/finalName&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                    &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;1.3.6&lt;/version&gt;
                    &lt;configuration&gt;
                        &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                        &lt;buildArgs&gt;
                            &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                        &lt;/buildArgs&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;

    2、新建Dockerfile
            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]

    3、打包：
        mvn install dockerfile:build

    4、推送阿里云镜像仓库

    阿里云镜像仓库：https://dev.aliyun.com/search.html</code></pre><p>docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825</p>
<pre><code>    5、查看日志 docker logs -f  containerid






第4课 实战系列之部署RabbitMQ和配置中心打包Docker镜像
    简介：讲解使用Docker打包配置中心，和部署RabbitMQ

    1、服务地址 ssh root@47.106.120.173

    部署    rabbitmq： docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management

    2、推送镜像

    docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825



5、常见问题处理之升级云服务器
    简介：处理上节课出现的问题，升级服务器注意事项

    1、升级云服务器配置（购买配置后需要重启机器才生效）

    2、启动完成后，需要开启docker
        指令： systemctl  start docker

    3、所有对外的都要经过网关才可以对外，应用间通信(除非跨机房)都用内网通信









6、实战系列之Docker部署Redis
    简介：使用Docker安装redis
    1、搜索镜像 docker search redis

    2、拉取 docker pull docker.io/redis

    3、启动 docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d
    参考：
    docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d --requirepass &quot;123456&quot; -v $PWD/data:/data

    4、访问redis容器里面，进行操作
    docker exec -it 295058d2b92e redis-cli










7、生产环境常见问题之配置中心访问
    简介：讲解生产环境部署常见问题，配置中心访问路径变化

    1、配置中心访问出错，路径不对

       解决：修改所有的注册中心，增加下面配置
    instance:
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
    prefer-ip-address: true



    docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826








8、实战系列之打包Docker镜像打包商品服务和订单服务、网关 
   简介:打包Docker镜像部署商品服务和订单服务、网关

   注意：
   1、maven打包构建，会触发单元测试，部分情况可以跳过，
   mvn install -Dmaven.test.skip=true dockerfile:build

   2、生产环境不能用localhost 或者 127.0.0.1, 一定要用内网通信ip (虚拟主机映射 hosts)










 9、实战系列云服务器部署网关、订单、商品服务
     简介：云服务部署商品服务、订单服务、网关服务

     1、拉取镜像、启动



     访问路径
     http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5

     http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer</code></pre><p>第十四章 课程总结和常见问题处理</p>
<pre><code>1、SpringCloud微服务常见问题和解决思路
简介：讲解SpringCloud开发实战常见问题，及解决思路

    1、技术选择：SpringCloud全家桶，每个组件又有多个替代，改怎么选择

        1）选择的时候根据公司里面团队人员熟悉程度，降低学习成本
        2）选择社区活跃的并且文档相对较多的，怎么判断活跃，可以看github上代码提交和start数

    2、云服务选择： 腾讯云，阿里云 ，遇到问题可以提交工单，有专人跟进</code></pre><p>​<br>​        3、部署了应用，但是访问不了<br>​            解决思路：<br>​                1)查看应用启动是否正常，如果有错误日志，复制错误日志去百度搜索！！！！！！！特别重要<br>​<br>​                2）启动正常，则先在本机使用 CURL “<a href="http://lcoalhost:8080/api/v1/user/find&quot;" target="_blank" rel="noopener">http://lcoalhost:8080/api/v1/user/find&quot;</a>  访问对应的接口，看是否有响应<br>​<br>​                3）启动正常，且curl有响应，则检查是否有关闭防火墙，或者开放对应的访问端口，开放端口才可以访问<br>​<br>​                4）腾讯云和阿里云都是有安全组，类似外层防火墙，一定要去web控制台检查是否有开启端口</p>
<pre><code>    4、内网和外网访问，鉴权问题安全问题

            1）所有应用只能通过网关提供对外访问的入口

            2）应用程序之间通讯，采用内网


    5、程序出错或者异常: 复制错误日志去百度搜索，网上有很多人会遇到类似的错误，多积累，特别强调







2、课程总结和后续技术规划
简介：总结SpringCloud课程和微服务后续课程规划

    1、springCloud全家桶，技术选择和知识点特别多，一定要学会记笔记，微服务更多关注的是里面架构和数据流转，而不是具体的业务。

    2、SpringCloud架构这些配置，一般使用一次后就不会多次修改了，进入公司主要还是开发业务，业务开发一般都用springboot，比较少让新人搭建SpringCloud的架构


    3、开发业务，无非就是CRUD，增删改查，只不过是初级和高级的区别，封装成通用和不通用的区别</code></pre><p>​<br>​        4、微服务和容器盛行的情况下，容器编排和自动缩扩容越来越重要<br>​<br>​            可以关注：k8s / service mesh /server less 等技术</p>
<p>​<br>​        总结：<br>​            1）后续会推出对应的课程，还有项目实战系列，大家记得关注 小D课堂，官网 ：<a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a>,<br>​<br>​            2）也可以加我微信交流： jack794666918<br>​<br>​            3）购买对应的课程后，记得进我们小D课堂官方的交流群，我会在里面分享主流技术和答疑，面试经验等等，还会同步更新资料和还超级干货分享 </p>
<p>=============================================</p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2019-04-29T03:08:27.967Z" itemprop="dateUpdated">2019-04-29 11:08:27</time>
</span><br>


        
        转载注明出处，原文地址：<a href="/2018/11/10/SpringCloud/小D课堂springcloud/" target="_blank" rel="external">http://yoursite.com/2018/11/10/SpringCloud/小D课堂springcloud/</a>
        
    </div>
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/avatar.jpg" alt="John Doe">
            John Doe
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/11/10/SpringCloud/小D课堂springcloud/&title=《小D课堂SpringCloud笔记》 — Hexo&pic=http://yoursite.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/11/10/SpringCloud/小D课堂springcloud/&title=《小D课堂SpringCloud笔记》 — Hexo&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2018/11/11/并发编程/慕课网java高并发/第六章 JUC之AQS/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">第六章 JUC 之AQS</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2018/11/09/开发遇到的问题/常见问题总结/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">常见问题总结</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、微服务架构SpringCloud课程介绍"><span class="post-toc-number">1.</span> <span class="post-toc-text">1、微服务架构SpringCloud课程介绍</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、技术选型和学后水平"><span class="post-toc-number">2.</span> <span class="post-toc-text">2、技术选型和学后水平</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、传统架构演进到分布式架构"><span class="post-toc-number">3.</span> <span class="post-toc-text">1、传统架构演进到分布式架构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、微服务核心基础讲解"><span class="post-toc-number">4.</span> <span class="post-toc-text">2、微服务核心基础讲解</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、常见的微服务框架"><span class="post-toc-number">5.</span> <span class="post-toc-text">3、常见的微服务框架</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4、微服务下电商项目基础模块设计"><span class="post-toc-number">6.</span> <span class="post-toc-text">4、微服务下电商项目基础模块设计</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#第三章-SpringCloud核心组件注册中心"><span class="post-toc-number"></span> <span class="post-toc-text">第三章 SpringCloud核心组件注册中心</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、什么是微服务的注册中心"><span class="post-toc-number">1.</span> <span class="post-toc-text">1、什么是微服务的注册中心</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、分布式应用知识CAP理论知识"><span class="post-toc-number">2.</span> <span class="post-toc-text">2、分布式应用知识CAP理论知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4、SpringCloud微服务核心组件Eureka介绍和闭源后影响"><span class="post-toc-number">3.</span> <span class="post-toc-text">4、SpringCloud微服务核心组件Eureka介绍和闭源后影响</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5、服务注册和发现Eureka-Server搭建实战"><span class="post-toc-number">4.</span> <span class="post-toc-text">5、服务注册和发现Eureka Server搭建实战</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number"></span> <span class="post-toc-text">=============================================</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#公众号搜索：小D课堂"><span class="post-toc-number"></span> <span class="post-toc-text">公众号搜索：小D课堂</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#公众号搜索：小D课堂-1"><span class="post-toc-number"></span> <span class="post-toc-text">公众号搜索：小D课堂</span></a>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://www.lujingtao.com" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                John Doe &copy; 2017 - 2019
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/11/10/SpringCloud/小D课堂springcloud/&title=《小D课堂SpringCloud笔记》 — Hexo&pic=http://yoursite.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/11/10/SpringCloud/小D课堂springcloud/&title=《小D课堂SpringCloud笔记》 — Hexo&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACvUlEQVR42u3awW4iQQwE0Pz/TxNpTytFzFTZNCTSmxNCMPTrw7Qp++srvh7/rp+v/3/n+np2t+T+1++/4MLDw8MbLf16WdfvPGPkS3zEV75mPDw8vNO85DC4fqc9Tq5/JeFF24eHh4f3UV5S2uZbsCm18fDw8P4WL1/o7Di5Lrjx8PDwfg+vLWHzh34bUiRrOJK14OHh4cW8TQPsU6/f1N/Dw8PDW7Sd2tZX3uhKDpvH6MLDw8M7wctL2M1CZ+X4bCgh+seAh4eHt+YlhWzxIC6bWzkjOaKirBoPDw9vwcu/kIe5+8MgH0G4+RU8PDy8N/Lyx/dsg5I7tENaxcGAh4eHt+Ylrab61ovXLfgmZcHDw8M7zJtFD0nrK1pQOQ9ws914eHh4B3ht6ZwfG225nG/T7G54eHh453j5ITEbAshL6mRt+R3w8PDwXstLyty2kG1bYpvNrU88PDw8vAUvj1Dbg2E/KJCv9ukn8fDw8I7xkqA2f7jPhqVmccnNGvDw8PAO89qH76z1tTkk8s3Cw8PDO8ebRRIzTB7ptuFI9C08PDy8F/E2gwKbMazZIML1QYKHh4f3Ht6m/G1hSVTRttnash4PDw9vz9uPTM0aVG3Z3Ua9eHh4eKd5s0J21gBrI4l2PTeTEXh4eHhrXtuYTyLUdrmzMCKJgPHw8PBO8Np212yMIGfPCvGnBwYeHh7eW3h5qJpfSfuqTpqTsh4PDw/vAK/9k78vvtvFJdTi83h4eHhr3v4RP9uatpE2jIDx8PDwDvBmLfnZQMA+0s0LcTw8PLzTvLyhNQtz2zsPO3jPtgkPDw/vGO9VTaw84HjVVkb5Ch4eHt6HePkju22DbWA35T4eHh7eL+Al1Dx43QQi0cbh4eHhHePNIoN986mNfds/AHh4eHgneJuHcjJK1UYPOXg4KICHh4c3530DHUpzqPPPcIUAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.4.3"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.4.3"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.4.3"></script>
<script type="text/javascript" src="/js/blog.js?v=1.4.3"></script>

<!-- third-party -->






<script type="text/javascript" src="/js/plugins/local_search.js?v=1.4.3"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>







    
</body>
</html>
